{"ast":null,"code":"import _slicedToArray from\"/Users/aniketsindhu/Documents/React projects/crowdfunding_tezos_dapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{DialogTitle,TextField,DialogContent,DialogActions,Dialog,Button}from\"@mui/material\";import config from\"../config/config\";import LoadingButton from\"@mui/lab/LoadingButton\";import{useState}from\"react\";import{TezosToolkit}from\"@taquito/taquito\";/**\n * @param {{Tezos: TezosToolkit}}\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddProject(_ref){var Tezos=_ref.Tezos,handleClose=_ref.handleClose,open=_ref.open;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setloading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),amount=_useState8[0],setAmount=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var handleName=function handleName(event){setName(event.target.value);};var handleDescription=function handleDescription(event){setDescription(event.target.value);};var handleAmount=function handleAmount(event){setAmount(event.target.value);};var handleDate=function handleDate(event){setDate(new Date(event.target.value));};var addProject=function addProject(){setloading(true);Tezos.wallet.at(config.contractAddress).then(function(contract){console.log(contract.entrypoints);console.log(contract.parameterSchema);try{contract.methods.default(description,date,parseInt(amount)*1000000,name).send().then(function(op){return op.confirmation();}).then(function(result){if(result.completed){setloading(false);handleClose();}});}catch(e){console.log(e);}});};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsx(\"b\",{children:\"Add Project\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{label:\"Project Name\",variant:\"standard\",fullWidth:true,margin:\"normal\",onChange:handleName}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",variant:\"standard\",multiline:true,minRows:3,fullWidth:true,margin:\"normal\",onChange:handleDescription}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(TextField,{label:\"Amount (in tez)\",variant:\"standard\",margin:\"normal\",type:\"number\",onChange:handleAmount}),/*#__PURE__*/_jsx(TextField,{label:\"End date\",variant:\"standard\",margin:\"normal\",type:\"date\",defaultValue:new Date().toISOString().split(\"T\")[0],onChange:handleDate})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(LoadingButton,{onClick:addProject,variant:\"contained\",loading:loading,children:\"Create\"})]})]})]});}export default AddProject;","map":{"version":3,"sources":["/Users/aniketsindhu/Documents/React projects/crowdfunding_tezos_dapp/src/components/AddProject.jsx"],"names":["DialogTitle","TextField","DialogContent","DialogActions","Dialog","Button","config","LoadingButton","useState","TezosToolkit","AddProject","Tezos","handleClose","open","loading","setloading","name","setName","description","setDescription","amount","setAmount","date","setDate","handleName","event","target","value","handleDescription","handleAmount","handleDate","Date","addProject","wallet","at","contractAddress","then","contract","console","log","entrypoints","parameterSchema","methods","default","parseInt","send","op","confirmation","result","completed","e","display","flexDirection","justifyContent","toISOString","split"],"mappings":"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","sourcesContent":["import {\n  DialogTitle,\n  TextField,\n  DialogContent,\n  DialogActions,\n  Dialog,\n  Button,\n} from \"@mui/material\";\nimport config from \"../config/config\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport { useState } from \"react\";\nimport { TezosToolkit } from \"@taquito/taquito\";\n\n/**\n * @param {{Tezos: TezosToolkit}}\n */\nfunction AddProject({ Tezos, handleClose, open }) {\n  const [loading, setloading] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [date, setDate] = useState(0);\n\n  const handleName = (event) => {\n    setName(event.target.value);\n  };\n  const handleDescription = (event) => {\n    setDescription(event.target.value);\n  };\n  const handleAmount = (event) => {\n    setAmount(event.target.value);\n  };\n  const handleDate = (event) => {\n    setDate(new Date(event.target.value));\n  };\n\n  const addProject = () => {\n    setloading(true);\n    Tezos.wallet.at(config.contractAddress).then((contract) => {\n      console.log(contract.entrypoints);\n      console.log(contract.parameterSchema);\n      try {\n        contract.methods\n          .default(description, date, parseInt(amount) * 1000000, name)\n          .send()\n          .then((op) => {\n            return op.confirmation();\n          })\n          .then((result) => {\n            if (result.completed) {\n              setloading(false);\n              handleClose();\n            }\n          });\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  };\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth>\n      <DialogTitle>\n        <b>Add Project</b>\n      </DialogTitle>\n      <form>\n        <DialogContent>\n          <TextField\n            label=\"Project Name\"\n            variant=\"standard\"\n            fullWidth\n            margin=\"normal\"\n            onChange={handleName}\n          />\n          <TextField\n            label=\"Description\"\n            variant=\"standard\"\n            multiline\n            minRows={3}\n            fullWidth\n            margin=\"normal\"\n            onChange={handleDescription}\n          />\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <TextField\n              label=\"Amount (in tez)\"\n              variant=\"standard\"\n              margin=\"normal\"\n              type=\"number\"\n              onChange={handleAmount}\n            />\n            <TextField\n              label=\"End date\"\n              variant=\"standard\"\n              margin=\"normal\"\n              type=\"date\"\n              defaultValue={new Date().toISOString().split(\"T\")[0]}\n              onChange={handleDate}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n          <LoadingButton\n            onClick={addProject}\n            variant=\"contained\"\n            loading={loading}\n          >\n            Create\n          </LoadingButton>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n}\n\nexport default AddProject;\n"]},"metadata":{},"sourceType":"module"}