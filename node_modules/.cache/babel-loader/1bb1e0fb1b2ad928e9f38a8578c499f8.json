{"ast":null,"code":"import _slicedToArray from\"/Users/aniketsindhu/Documents/React projects/crowdfunding_tezos_dapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./App.css\";import ProjectOngoing from\"./components/ProjectOngoing\";import{useEffect,useState}from\"react\";import{TezosToolkit}from\"@taquito/taquito\";import DisconnectButton from\"./components/Wallet/DisconnectButton\";import ConnectButton from\"./components/Wallet/ConnectButton\";import AddProject from\"./components/AddProject\";import axios from\"axios\";import config from\"./config/config\";import{Switch,FormControlLabel}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(new TezosToolkit(\"https://hangzhounet.smartpy.io/\")),_useState2=_slicedToArray(_useState,2),Tezos=_useState2[0],setTezos=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),wallet=_useState4[0],setWallet=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userAddress=_useState6[0],setUserAddress=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),userBalance=_useState8[0],setUserBalance=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),beaconConnection=_useState10[0],setBeaconConnection=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),projects=_useState16[0],setProjects=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),checked=_useState18[0],setChecked=_useState18[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(value){setOpen(false);getProjects();};var getProjects=function getProjects(){axios.get(\"\".concat(config.API_URL,\"/storage\")).then(function(res){setProjects(Object.keys(res.data).map(function(key){return{address:key,data:res.data[key]};}));setLoading(false);});};useEffect(function(){getProjects();},[]);var handleChecked=function handleChecked(event){setChecked(event.target.checked);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"38px\"},children:\"Crowdfunding\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Crowdfuning DApp on Tezos Blockchain\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClickOpen,style:{margin:\"20px 10px 10px 10px\",backgroundColor:\"#1976D2\",color:\"white\",border:\"none\",cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"div\",{style:{margin:\"4px\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Start A Project\"})})}),userAddress===\"\"&&!beaconConnection?/*#__PURE__*/_jsx(ConnectButton,{Tezos:Tezos,setWallet:setWallet,setUserAddress:setUserAddress,setUserBalance:setUserBalance,setBeaconConnection:setBeaconConnection,wallet:wallet}):/*#__PURE__*/_jsx(DisconnectButton,{wallet:wallet,setUserAddress:setUserAddress,setUserBalance:setUserBalance,setWallet:setWallet,setTezos:setTezos,setBeaconConnection:setBeaconConnection,userBalance:userBalance,userAddress:userAddress})]}),/*#__PURE__*/_jsxs(\"h1\",{style:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"},children:[\"Projects\",\" \",/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:checked,onChange:handleChecked}),label:\"Show My Projects\"})]}),!checked?projects.map(function(project){return/*#__PURE__*/_jsx(ProjectOngoing,{projectDetails:project,Tezos:Tezos,userAddress:userAddress},project.address);}):projects.map(function(project){return project.data.owner===userAddress&&/*#__PURE__*/_jsx(ProjectOngoing,{projectDetails:project,Tezos:Tezos,userAddress:userAddress},project.address);}),\",\",/*#__PURE__*/_jsx(AddProject,{Tezos:Tezos,open:open,handleClose:handleClose})]});}export default App;","map":{"version":3,"sources":["/Users/aniketsindhu/Documents/React projects/crowdfunding_tezos_dapp/src/App.js"],"names":["ProjectOngoing","useEffect","useState","TezosToolkit","DisconnectButton","ConnectButton","AddProject","axios","config","Switch","FormControlLabel","App","Tezos","setTezos","wallet","setWallet","userAddress","setUserAddress","userBalance","setUserBalance","beaconConnection","setBeaconConnection","open","setOpen","loading","setLoading","projects","setProjects","checked","setChecked","handleClickOpen","handleClose","value","getProjects","get","API_URL","then","res","Object","keys","data","map","key","address","handleChecked","event","target","fontSize","display","flexDirection","justifyContent","margin","backgroundColor","color","border","cursor","project","owner"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport ProjectOngoing from \"./components/ProjectOngoing\";\nimport { useEffect, useState } from \"react\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport DisconnectButton from \"./components/Wallet/DisconnectButton\";\nimport ConnectButton from \"./components/Wallet/ConnectButton\";\nimport AddProject from \"./components/AddProject\";\nimport axios from \"axios\";\nimport config from \"./config/config\";\nimport { Switch, FormControlLabel } from \"@mui/material\";\n\nfunction App() {\n  const [Tezos, setTezos] = useState(\n    new TezosToolkit(\"https://hangzhounet.smartpy.io/\")\n  );\n  const [wallet, setWallet] = useState(null);\n  const [userAddress, setUserAddress] = useState(\"\");\n  const [userBalance, setUserBalance] = useState(0);\n  const [beaconConnection, setBeaconConnection] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [projects, setProjects] = useState([]);\n  const [checked, setChecked] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (value) => {\n    setOpen(false);\n    getProjects();\n  };\n\n  const getProjects = () => {\n    axios.get(`${config.API_URL}/storage`).then((res) => {\n      setProjects(\n        Object.keys(res.data).map((key) => {\n          return {\n            address: key,\n            data: res.data[key],\n          };\n        })\n      );\n\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    getProjects();\n  }, []);\n\n  const handleChecked = (event) => {\n    setChecked(event.target.checked);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 style={{ fontSize: \"38px\" }}>Crowdfunding</h1>\n      <p>Crowdfuning DApp on Tezos Blockchain</p>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n        }}\n      >\n        <button\n          onClick={handleClickOpen}\n          style={{\n            margin: \"20px 10px 10px 10px\",\n            backgroundColor: \"#1976D2\",\n            color: \"white\",\n            border: \"none\",\n            cursor: \"pointer\",\n          }}\n        >\n          <div style={{ margin: \"4px\" }}>\n            <b>Start A Project</b>\n          </div>\n        </button>\n        {userAddress === \"\" && !beaconConnection ? (\n          <ConnectButton\n            Tezos={Tezos}\n            setWallet={setWallet}\n            setUserAddress={setUserAddress}\n            setUserBalance={setUserBalance}\n            setBeaconConnection={setBeaconConnection}\n            wallet={wallet}\n          />\n        ) : (\n          <DisconnectButton\n            wallet={wallet}\n            setUserAddress={setUserAddress}\n            setUserBalance={setUserBalance}\n            setWallet={setWallet}\n            setTezos={setTezos}\n            setBeaconConnection={setBeaconConnection}\n            userBalance={userBalance}\n            userAddress={userAddress}\n          />\n        )}\n      </div>\n      <h1\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        Projects{\" \"}\n        <FormControlLabel\n          control={<Switch checked={checked} onChange={handleChecked} />}\n          label=\"Show My Projects\"\n        />\n      </h1>\n      {!checked\n        ? projects.map((project) => (\n            <ProjectOngoing\n              projectDetails={project}\n              key={project.address}\n              Tezos={Tezos}\n              userAddress={userAddress}\n            />\n          ))\n        : projects.map(\n            (project) =>\n              project.data.owner === userAddress && (\n                <ProjectOngoing\n                  projectDetails={project}\n                  key={project.address}\n                  Tezos={Tezos}\n                  userAddress={userAddress}\n                />\n              )\n          )}\n      ,\n      <AddProject Tezos={Tezos} open={open} handleClose={handleClose} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}